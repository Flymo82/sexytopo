<html>
<head>
	<title>SexyTopo Guide</title>
</head>
<body>
<h1>SexyTopo Guide</h1>

<h2>Overview</h2>
<p>SexyTopo is an app for surveying caves and underground spaces. It is designed to work with a Disto-X or Disto-X2 measuring tool which the surveyor uses to measure out survey legs. It is also possible (though significantly less convenient) to use SexyTopo as a tool for manual entry of survey data.</p>

<h2>Setup</h2>
<p>SexyTopo runs on Android devices (the newer/more powerful the better). For obvious reasons a water- and dust-proof device is recommended. Both phones and tablets are supported. It is possible to control SexyTopo with finger movements but it is designed for use with a stylus.</p>
<p>The Android device needs to have bluetooth communication turned on and be paired with a Disto-X before it can receive readings. This can be done through the DistoX page (accessible from the Action Bar extended menu, or the menu key on older devices).</p>
<p>The DistoX page lays out the steps needed to connect to the DistoX in order. A small console at the bottom reports status updates as you go though the steps.</p>
<ol>
	<li>First, you need to turn on Bluetooth connectivity (if it isn't on already).</li>
	<li>The next step is to pair the DistoX with the device running SexyTopo: ensure the DistoX is turned on, and then click "Pair". (Enter "0000" if the device's O/S asks for it). Note that by design you can only pair one DistoX at once (this avoids confusion!) To change the DistoX the device is paired with, click "Unpair", then "Pair".</li>
	<li>With the DistoX paired, click the "Connect" switch to begin communication between the devices. Any readings taken by the device should now show up in the data views, though remember to calibrate the DistoX before using it for serious data collection.</li>
</ol>
<p>Messages received from the DistoX, and any errors, will be reported in the console. You don't need to worry about reading the console if everything is working OK.</p>

<h2>Data Table Screen</h2>
<p>This is a tabular view of the collected data. It can be accessed through the first icon on the Action Bar. It is intended that most interaction with SexyTopo should be through the graph screens but it is occasionally useful to check the raw data.</p>
<p>There are on-screen buttons for manually inputting data: there are two buttons for adding new stations and splays. Another button deletes the last measurement inputted or read from the Disto.</p>
<p>Long-pressing on a table cell activates a context menu, which will have different options depening on whether the cell is a station or a measurement and if the row represents a full leg or a splay.
<h3>Table Context Menu</h3>
<ul>
	<li><strong>Set Active Station</strong> (only available for stations) sets the station as the current active one so measurements are considered to be made from that station (see <a href="#surveyingWithSexyTopo">Surveying with SexyTopo</a> for more details on this).</li>
	<li><strong>Rename Station</strong> (only available for stations) brings up a dialog allowing you to rename the station.</li>
	<li><strong>Edit Row</strong></li> brings up a dialog for directly editing the data in the current leg or splay (distance, azimuth, inclination).</li>
	<li><strong>Delete Row</strong></li> deletes the leg or splay represented by the selected row (note that if you delete a station, any splays, onward legs, or station linked to said legs are also lost).</li>
	<li><strong>Force New Station</strong></li> (only available for splays) essentially upgrades a splay to a full leg, creating a new station in the survey. If using a Disto, this bypasses the usual requirement to shoot three splays in succession to create a new station. Misuse of this feature can result in an inaccurate survey.</li>
</ul>

<h2>Calibration</h2>
<p>The DistoX device needs calibration before it can be used reliably. This is not just a theoretical requirement; without calibration, measurements can be significantly off.</p>
<p>However, calibration is not yet implemented in SexyTopo. Calibration will need to be performed using another software package, such as PocketTopo on a PDA or Windows laptop.</p>

<a name="surveyingWithSexyTopo"><h2>Surveying with SexyTopo</h2></a>
<p>A full description of surveying is beyond the scope of this document but this is a brief overview of how to survey with SexyTopo.</p>
<p>Surveying consists of moving through the cave along a series of locations known as <strong>stations</strong>. These points are connected together through measurements known as <strong>legs</strong> (or <strong>shots</strong> in some countries). This collection of stations and legs make up the skeleton of the survey, or <strong>centreline</strong>. The survey may also contain legs that do not connect to a station but help measure out the shape of the cave (known as <strong>splays</strong>).
<p>Typically, a surveyor will start at a station and take several splays (ideally the job will be split between at least one caver taking the measurements and another piloting SexyTopo). A common method is to use the LRUD mnemonic and do Left, Right, Up and Down splays from the station, but additional splays are often useful, especially in complex parts of the cave. Then the surveyor will look for the next station. You can instruct SexyTopo to create a new station (rather than a splay) by repeating a measurement three times. If the readings are sufficiently close, a new station is added. The surveyor then updates the sketches of the plan and profile on the graph screens, before moving to the new station and repeating the process.</p>
<p>Legs are added to the survey at the <strong>active station</strong>. By default the active station is the newest station added to the survey. In the standard order of things (as described above) the active station should automatically be the one you want, but you will want to change it in case of a mistake or to make a branch in the cave. For example, you may have created a new station but forgotten to take splays at the station before. Here you can select the previous station as the active station, take any required splays, then set the new station as the active station.</p>
<p>Branches are just as easy to add. Select the station you wish to branch off as the active station, and then create a new station as before.</p>


<h2>Graph view: Plan Sketch and Elevation Sketch pages</h2>
<p>The sketch views (plan and extended elevation) can be accessed through buttons on the Action Bar at the top of the screen. These show a projection of the calculated survey on a canvas so that a sketch of the cave can be drawn on top. The plan view is an intuitive map of the cave whilst the extended elevation is an "unrolled" view of the vertical layout of the cave that may take some getting used to.</p>
<p>Several sketching tools are provided via a toolbar at the bottom of the screen:
<ul>
	<li><img src="../../res/drawable-hdpi/black.png"><strong>Colours</strong> set the current sketching colour</li>
	<li><img src="@drawable/blue"><strong>Zoom Out</strong> lets you see more of the survey</li>
	<li><img src="file:///res/drawable-hdpi/black.png"><strong>Zoom In</strong> lets you focus on the detail of the survey</li>
	<li><img src="file://main/res/drawable-hdpi/black.png"><strong>Move</strong> enters a mode which allows you to drag the survey around to see different parts</li>
	<li><img src="file://src/main/res/drawable-hdpi/black.png"><strong>Draw</strong> enters a mode which lets you sketch the shape of the cave in the selected colour</li>
	<li><img src=""><strong>Erase</strong> deletes lines sketched in Draw mode</li>
	<li><img src=""><strong>Text</strong> allows you to enter text at a point you choose</li>
	<li><img src=""><strong>Select</strong> picks out a station as the active station when you click on it; selecting it a second time opens the <strong>station context menu</strong></li>
	<li><img src=""><strong>Settings</strong> opens an extended commands menu</li>
	<li><img src=""><strong>Undo</strong>Undoes the last sketching command</li>
	<li><img src=""><strong>Redo</strong>Cancels the last undo</li>
</ul>
</p>

<h3>Station Context Menu</h3>
<p>The following options are available for the selected station:
<ul>
	<li><strong>Delete</strong> deletes this station and any onward-linked legs or other stations (confirmation required)</li>
	<li><strong>Reverse</strong></li> reverses the measurement that produced this station, as if you had been looking back at the previous station (like a one-off application of the "Reverse" mode available under the Tools menu)
	<li><strong>New Cross-Section</strong></li> enters a mode that allows you to select a position to draw a cross-section of the cave at the current station; SexyTopo then calculates the cross-section at that point (usually at right-angles to the passage) and provides a skeleton from the available splays to be sketched around
</ul>
</p>

<h2>File Handling</h2>
<p>The File menu provides the following options:
<ul>
	<li><strong>New</strong> starts a new survey (prompts for a name)</li>
	<li><strong>Open&hellip;</strong> opens a list of existing surveys to choose from to open</li>
	<li><strong>Save</strong> saves the current survey</li>
	<li><strong>Save As&hellip;</strong> saves the current survey under a different name</li>
	<li><strong>Import&hellip;</strong> opens a list of possible import files found in the device's "Import Here" directory (in the SexyTopo directory)</li>
	<li><strong>Export&hellip;</strong> exports to a set of available formats, including Compass and PocketTopo's .txt format</li>
	<li><strong>Delete</strong> Deletes the currently open survey from the device's memory</li>
</ul>
</p>

<h2>Tools Menu</h2>
<p>The Tools menu option has a couple of useful tools. It provides a shortcut to undo the last measurement recorded and an option to enable back readings. Whilst this option is on any readings that are taken are inverted as if they are being taken from the target back to the origin. This is handy for getting legs from stations that are difficult or unpleasant to take readings from.</p>
<p>A "Generate Test Survey" option is also useful for producing quick test data for practising with SexyTopo.

<h2>Troubleshooting</h2>
<p>In typical caver fashion, you've probably cajoled someone into lending you their shiny DistoX, completely failed to have a practice with it and assumed you'd just wing it. Now you've found yourself in the sharp end of some crappy hole somewhere realising that you have no idea why your surveying kit doesn't work. Luckily you've found SexyTopo has a help file and you're desperately trying to scan through it looking for some hope. First of all, don't panic...</p>
<h3>Problems talking to the Disto-X</h3>
<p>Check the following are true: bluetooth is turned on on the device, the device is paired with the Disto and the Connect switch is on. Check the on-screen console on the DistoX page: it may show an error message or give some clue as to what is wrong.</p>
<p>If that fails, try turning the Disto-X off and back on. Try unpairing and re-pairing, or even turning bluetooth off and on again. It shouldn't make a difference but you could kill SexyTopo and reopen it. Check you haven't paired with the wrong Disto (the Unpair dialog shows which Distos are paired).</p>
<p>If all else fails a factory reset of the Disto-X may be necessary. Press CLEAR, FUNC and MEM (the latter has a floppy disk or save icon) for five seconds. Note that this is an option of last resort and requires recalibrating the Disto-X.</p>
<h3>Strange Measurements</h3>
<p>The Disto-X may need calibrating. See the calibration section above.</p>

</body>
</html>
